"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const v2_1 = require("@discloudapp/api-types/v2");
const util_1 = require("../util");
function default_1(toolbox) {
    toolbox.prompt.fetchAndAskForApps = async function (options) {
        const spin = toolbox.print.spin({ text: toolbox.print.colors.cyan("Fetching apps...") });
        const apiRes = await util_1.apidiscloud.get(options?.url ?? v2_1.Routes.app("all"));
        new util_1.RateLimit(apiRes.headers);
        spin.stop();
        if (apiRes.data?.apps)
            return toolbox.prompt.askForApps(apiRes.data.apps, options);
        return {};
    };
}
exports.default = default_1;
