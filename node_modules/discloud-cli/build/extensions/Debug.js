"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const gluegun_1 = require("@discloudapp/gluegun");
const constants_1 = require("../util/constants");
function default_1(toolbox) {
    if (toolbox.parameters.options.d || toolbox.parameters.options.debug) {
        toolbox.print.debug = console.debug;
        if (!["help"].includes(toolbox.parameters.command ?? ""))
            toolbox.print.debug("discloud"
                + (toolbox.parameters.command ?
                    toolbox.parameters.command === "discloud" ? "" :
                        ` ${toolbox.parameters.command}` : "")
                + ` v${constants_1.version}`
                + ` ${constants_1.os_name} ${constants_1.os_release} ${constants_1.os_platform} ${constants_1.cpu_arch}`);
        toolbox.print.debug(toolbox.parameters);
        return;
    }
    if (!["help", "version"].includes(toolbox.parameters.command ?? ""))
        gluegun_1.print.info("discloud"
            + (toolbox.parameters.command ?
                toolbox.parameters.command === "discloud" ? "" :
                    ` ${toolbox.parameters.command}` : "")
            + ` v${constants_1.version}`);
    return toolbox.print.debug = () => null;
}
exports.default = default_1;
